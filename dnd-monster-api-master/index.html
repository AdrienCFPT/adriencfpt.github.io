<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <script>
        const HTTP_OK = 200;
        const HTTP_METHOD_NOT_ALLOWED = 405;

        document.addEventListener('DOMContentLoaded', () => {
            const method = 'GET';
            const url = 'https://adriencfpt.github.io/dnd-monster-api-master/data/DndMonster/';

            if (method === 'GET') {
                fetch(url)
                    .then(response => {
                        if (response.ok) {
                            return response.json();
                        } else {
                            throw new Error(`HTTP error! status: ${response.status}`);
                        }
                    })
                    .then(data => {
                        handleResponse(HTTP_OK, data);
                    })
                    .catch(error => {
                        handleResponse(HTTP_METHOD_NOT_ALLOWED, { error: error.message });
                    });
            } else {
                handleResponse(HTTP_METHOD_NOT_ALLOWED, { error: `Method '${method}' is not supported` });
            }
        });

        function handleResponse(code, data) {
            if (code === HTTP_OK) {
                console.log('Response data:', data);
                // Faites quelque chose avec les données reçues
            } else {
                console.error('Error:', data.error);
                // Gérez l'erreur
            }
        }

    </script>
</body>

</html>